{% extends "base.html" %}

{% block title %}Admin Paneli{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Admin Paneli</h1>
        <div>
            <a href="{{ url_for('add_anime') }}" class="btn btn-primary">Yeni Anime Ekle</a>
            <a href="{{ url_for('manage_genres') }}" class="btn btn-secondary">Türleri Yönet</a>
        </div>
    </div>

    <h2 class="mb-4">Anime Listesi</h2>

    <div class="list-group">
        {% for anime in animes %}
        <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center mb-2">
            <a href="{{ url_for('anime', anime_id=anime.id) }}" class="text-decoration-none">{{ anime.name }}</a>
            <div class="btn-group" role="group">
                <a href="{{ url_for('add_episode', anime_id=anime.id) }}" class="btn btn-sm btn-outline-success">Bölüm Ekle</a>
                <a href="{{ url_for('edit_anime', anime_id=anime.id) }}" class="btn btn-sm btn-outline-warning">Düzenle</a>
                {% if current_user.can_delete %}
                <form action="{{ url_for('delete_anime', anime_id=anime.id) }}" method="post" class="d-inline" onsubmit="return confirm('Bu animeyi silmek istediğinize emin misiniz?');">
                    <button type="submit" class="btn btn-sm btn-outline-danger">Sil</button>
                </form>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    {% if current_user.can_add_user %}
    <div class="row mt-5">
        <div class="col-md-4 mb-2">
            <div class="d-grid">
                <a href="{{ url_for('users') }}" class="btn btn-outline-secondary">Kullanıcılar</a>
            </div>
        </div>
        <div class="col-md-4 mb-2">
            <div class="d-grid">
                <a href="{{ url_for('view_logs') }}" class="btn btn-outline-secondary">Loglar</a>
            </div>
        </div>
        <div class="col-md-4 mb-2">
            <div class="d-grid">
                <a href="{{ url_for('add_user') }}" class="btn btn-outline-secondary">Kullanıcı Ekle</a>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}